{% load i18n %} {% load static %} {% load crispy_forms_tags %}

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="initial-scale=1.0,maximum-scale=1.0,user-scalable=no"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- Remove Tap Highlight on Windows Phone IE -->
    <meta name="msapplication-tap-highlight" content="no" />

    <title>{{config.title}}</title>

    <link
      href="http://fonts.googleapis.com/css?family=Roboto:300,400,500"
      rel="stylesheet"
      type="text/css"
    />

    <!-- uikit -->
    <link
      rel="stylesheet"
      href="{% static 'css/uikit.almost-flat.min.css' %}"
    />

    <!-- altair admin login page -->
    <link rel="stylesheet" href="{% static 'login/css/login_page.css' %}" />

    <link rel="stylesheet" href="{% static 'login/css/styles.css' %}" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinycolor/1.6.0/tinycolor.min.js"
        integrity="sha512-AvCfbOQzCVi2ctVWF4m89jLwTn/zVPJuS7rhiKyY3zqyCdbPqtvNa0I628GJqPytbowfFjkAGOpq85E5kQc40Q=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  </head>
  <body >
    <div class="login-container">
    {% include "applogin/_message_block.html" %}
    
    

    
    <div class="login-logo">
      <svg
        width="138"
        height="48"
        viewBox="0 0 138 48"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M0 37.5955V33.3587L11.1553 17.162H1.23352V10.9944H20.9698V15.1777L9.81453 31.4279H21.3453V37.5955H0Z"
          fill="white"
        />
        <path
          d="M36.2218 38.2391C33.6833 38.2391 31.395 37.6849 29.357 36.5765C27.319 35.4682 25.7101 33.8771 24.5302 31.8034C23.3503 29.7296 22.7604 27.2268 22.7604 24.295C22.7604 21.3989 23.3503 18.914 24.5302 16.8402C25.7458 14.7665 27.319 13.1754 29.2497 12.067C31.1805 10.9229 33.2006 10.3508 35.3101 10.3508C37.8486 10.3508 39.9402 10.9229 41.5849 12.067C43.2654 13.1754 44.5168 14.695 45.3391 16.6257C46.1972 18.5207 46.6263 20.6838 46.6263 23.1151C46.6263 23.7944 46.5905 24.4737 46.519 25.1531C46.4475 25.7966 46.376 26.2793 46.3045 26.6011H30.376C30.7335 28.5318 31.538 29.962 32.7894 30.8916C34.0408 31.7855 35.5425 32.2324 37.2944 32.2324C39.1894 32.2324 41.1023 31.6425 43.033 30.4626L45.6609 35.2358C44.3023 36.1654 42.7827 36.8983 41.1023 37.4346C39.4218 37.971 37.795 38.2391 36.2218 38.2391ZM30.3224 21.3989H39.9224C39.9224 19.933 39.5648 18.7352 38.8497 17.8056C38.1704 16.8402 37.0442 16.3575 35.471 16.3575C34.2553 16.3575 33.1648 16.7866 32.1995 17.6447C31.2341 18.467 30.6084 19.7184 30.3224 21.3989Z"
          fill="white"
        />
        <path
          d="M58.0373 38.2391C55.32 38.2391 53.425 37.4346 52.3524 35.8257C51.3155 34.181 50.7971 32.0179 50.7971 29.3363V0H58.6809V29.6581C58.6809 30.4804 58.8239 31.0525 59.11 31.3743C59.4317 31.6961 59.7535 31.857 60.0753 31.857C60.2541 31.857 60.3971 31.857 60.5044 31.857C60.6474 31.8212 60.8262 31.7855 61.0407 31.7497L62.006 37.5955C61.577 37.7743 61.0228 37.9173 60.3435 38.0246C59.6999 38.1676 58.9312 38.2391 58.0373 38.2391Z"
          fill="white"
        />
        <path
          d="M75.1094 38.2391C71.82 38.2391 69.4603 37.2916 68.0301 35.3966C66.6357 33.5017 65.9385 31.0168 65.9385 27.9419V17.162H62.2915V11.3162L66.3675 10.9944L67.2793 3.91508H73.8223V10.9944H80.2044V17.162H73.8223V27.8346C73.8223 29.3363 74.1262 30.4268 74.734 31.1061C75.3776 31.7497 76.2178 32.0715 77.2547 32.0715C77.6837 32.0715 78.1128 32.0179 78.5418 31.9106C79.0066 31.8034 79.4178 31.6782 79.7753 31.5352L81.0089 37.2737C80.3295 37.4883 79.4893 37.7028 78.4882 37.9173C77.5228 38.1318 76.3966 38.2391 75.1094 38.2391Z"
          fill="white"
        />
        <path
          d="M84.1196 37.5955V0H92.0034V9.22458L91.628 13.9978C92.6291 13.1039 93.7911 12.2816 95.1141 11.5307C96.4727 10.7441 98.0459 10.3508 99.8336 10.3508C102.73 10.3508 104.821 11.3162 106.108 13.2469C107.431 15.1419 108.093 17.752 108.093 21.0771V37.5955H100.209V22.0961C100.209 20.1654 99.9409 18.8425 99.4046 18.1274C98.904 17.4123 98.0816 17.0548 96.9375 17.0548C95.9364 17.0548 95.0783 17.2872 94.3632 17.752C93.6481 18.181 92.8615 18.8067 92.0034 19.6291V37.5955H84.1196Z"
          fill="white"
        />
        <path
          d="M116.431 48C115.645 48 114.948 47.9464 114.34 47.8391C113.768 47.7318 113.214 47.6067 112.677 47.4637L114.072 41.457C114.322 41.4927 114.608 41.5464 114.93 41.6179C115.251 41.7251 115.555 41.7788 115.841 41.7788C117.164 41.7788 118.183 41.457 118.898 40.8134C119.614 40.1698 120.15 39.3296 120.507 38.2927L120.883 36.8983L110.639 10.9944H118.577L122.384 22.4179C122.778 23.6335 123.135 24.867 123.457 26.1184C123.779 27.3698 124.119 28.657 124.476 29.9799H124.691C124.977 28.7285 125.263 27.4771 125.549 26.2257C125.87 24.9385 126.192 23.6693 126.514 22.4179L129.732 10.9944H137.294L128.069 37.8637C127.247 40.0804 126.335 41.9397 125.334 43.4413C124.333 44.9788 123.117 46.1229 121.687 46.8737C120.293 47.6246 118.541 48 116.431 48Z"
          fill="white"
        />
      </svg>
    </div>

    <section class="main-login-section">
      <div class="login-hero-section">
        <div class="hero-left">
          <h1>{{tenant.name}}</h1>
        </div>
        <div class="hero-right">
          <div class="login-box">
            <div class="login-box-header">Login</div>
            <div class="login-header-underscore" id="login-header-underscore"></div>
            <form class="login-form" action="" method="post">
              {% csrf_token %} {{ wizard.management_form }} {% crispy wizard.form %}
            </form>
          </div>
        </div>
      </div>
    </section>

    <div class="pen-title">{{config.public_page_footer}}</div>

    </div>

    <!-- common functions -->
    <script src="{% static 'js/common.min.js' %}"></script>
    <!-- uikit functions -->
    <script src="{% static 'js/uikit_custom.min.js' %}"></script>
    <!-- altair core functions -->
    <script src="{% static 'js/altair_admin_common.min.js' %}"></script>
    <!-- altair login page functions -->
    <script src="{% static 'login/js/login.js' %}"></script>
    <script>

        const usernameLabel = $("<label>Username </label>");
        const usernameInput = $("#id_auth-username");
        usernameLabel.insertBefore(usernameInput);
        usernameLabel.css("font-weight", "400");
        usernameLabel.css("font-size", "12px");
        usernameLabel.css("line-height", "16px");
        usernameLabel.css("color", "#6C747D");

        const passwordLabel = $("<label>Password </label>");
        const passwordInput = $("#id_auth-password");
        passwordLabel.insertBefore(passwordInput);
        passwordLabel.css("font-weight", "400");
        passwordLabel.css("font-size", "12px");
        passwordLabel.css("line-height", "16px");
        passwordLabel.css("color", "#6C747D");

        $(".login-form h2").remove()

        const selectRoleLabel = $("<label>Select your role </label>");
        const selectRoleInput = $("#id_user_role-user_role");
        selectRoleLabel.insertBefore(selectRoleInput);
        selectRoleLabel.css("font-weight", "400");
        selectRoleLabel.css("font-size", "12px");
        selectRoleLabel.css("line-height", "16px");
        selectRoleLabel.css("color", "#6C747D");

        const errorMessage = $(".alert-danger")
        const inputDiv = $("#div_id_auth-password")
        errorMessage.detach().insertAfter(inputDiv);
        // inputDiv.append(errorMessage)

        // Get the existing div element
        var oldElement = $('.alert-danger ul');

        // Create a new span element and copy contents
        var newElement1 = $('<div>').html(oldElement.html());

        var newElement2 = $('.alert-danger li');


        var obj = "{{app_theme_config|escapejs}}"
        var decodedCode = obj.replace(/&#x27;/g, "'");
        var validJson = decodedCode.replace(/'/g, '"');
        var app_theme_config = JSON.parse(validJson);


        $("#submit-id-submit").css("background-color", app_theme_config?.color?.primary || "#5048ed");
        $("#login-header-underscore").css("background-color", app_theme_config?.color?.primary || "#5048ed");
        $(".login-container").css("background-color", app_theme_config?.color?.primary + "cc" || "rgba(121, 114, 251, 0.8)");

        // Replace the old div with the new span
        oldElement.replaceWith(newElement2);

    </script>
  </body>
</html>
